[
    {
        "case_name": "Test alignment: no special characters",
        "text_input": "in diebus eius obsessa est",
        "vol_input": "1---f---df--f--f---f--efgfe---g--hg-hgf--ef-gef---ed---4",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "di-", "df--" ],
            [ "e-", "f--" ],
            [ "bus", "f---" ],
            [ "e-", "f--" ],
            [ "ius", "efgfe---" ],
            [ "ob-", "g--" ],
            [ "ses-", "hg-hgf--" ],
            [ "sa", "ef-gef---" ],
            [ "est", "ed---" ],
            [ "", "4" ]
        ]
    },
    {
        "case_name": "Test alignment: internal bar lines",
        "text_input": "in diebus |eius | obsessa est",
        "vol_input": "1---f---df--f--f---3---f--efgfe---4g--hg-hgf--ef-gef---ed---3",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "di-", "df--" ],
            [ "e-", "f--" ],
            [ "bus", "f---" ],
            [ "|", "3---" ],
            [ "e-", "f--" ],
            [ "ius", "efgfe---" ],
            [ "|", "4---" ],
            [ "ob-", "g--" ],
            [ "ses-", "hg-hgf--" ],
            [ "sa", "ef-gef---" ],
            [ "est", "ed---" ],
            [ "", "3" ]
        ]
    },
    {
        "case_name": "Test alignment: missing final barline",
        "text_input": "in diebus",
        "vol_input": "1---f---df--f--f--",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "di-", "df--" ],
            [ "e-", "f--" ],
            [ "bus", "f---" ],
            [ "", "3" ]
        ]
    },
    {
        "case_name": "Test alignment: improper spacing with final barline",
        "text_input": "in diebus",
        "vol_input": "1---f---df--f--f--3",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "di-", "df--" ],
            [ "e-", "f--" ],
            [ "bus", "f---" ],
            [ "", "3" ]
        ]
    },
    {
        "case_name": "Test alignment: missing music",
        "text_input": "in {diebus add char} e- {ius} obsessa est",
        "vol_input": "1---f---6------6---f---6------6---g--hg-hgf--ef-gef---ed---3",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "{diebus add char}", "6-----------------6---" ],
            [ "e-", "f---" ],
            [ "{ius}", "6------6---" ],
            [ "ob-", "g--" ],
            [ "ses-", "hg-hgf--" ],
            [ "sa", "ef-gef---" ],
            [ "est", "ed---" ],
            [ "", "3" ]
        ]
    },
    {
        "case_name": "Test alignment: missing music followed by line breaks (CDB Chant 229133)",
        "text_input": "{Domini est terra et} plenitudo e {ius orbis terrarum et uni} versi qui habitant {in eo}",
        "vol_input": "1---6------67---ghg--h--hkhg--hf-gh-kjh-jkjh---ghkhgh---6------67---kjhg--hghg-gF--gf---fd---efe--f--fh---6------67---4",
        "expected_result": [
            ["", "1---"],
            ["{Domini est terra et}", "6---------------------67---"],
            ["ple-", "ghg--"],
            ["ni-", "h--"],
            ["tu-","hkhg--"],
            ["do","hf-gh-kjh-jkjh---"],
            ["e", "ghkhgh---"],
            ["{ius orbis terrarum et uni}", "6---------------------------67---"],
            ["ver-", "kjhg--"],
            ["si", "hghg-gF--"],
            ["","gf---"],
            ["qui", "fd---"],
            ["ha-", "efe--"],
            ["bi-", "f--"],
            ["tant", "fh---"],
            ["{in eo}", "6------67---"],
            ["", "4"]
        ]
    },
    {
        "case_name": "Test alignment: Missing music encoded with too few internal hyphens",
        "text_input": "in {diebus} e- {ius} obsessa est",
        "vol_input": "1---f---6--6---f---6----6---g--hg-hgf--ef-gef---ed---3",
        "expected_result": [
            ["", "1---"],
            ["in", "f---"],
            ["{diebus}", "6------6---"],
            ["e-", "f---"],
            ["{ius}", "6------6---"],
            ["ob-", "g--"],
            ["ses-", "hg-hgf--"],
            ["sa", "ef-gef---"],
            ["est", "ed---"],
            ["", "3"]
        ]
    },
    {
        "case_name": "Test alignment: Missing music encoded with too many internal hyphens",
        "text_input": "in {diebus} e- {ius} obsessa est",
        "vol_input": "1---f---6-------6---f---6-----------6---g--hg-hgf--ef-gef---ed---3",
        "expected_result": [
            ["", "1---"],
            ["in", "f---"],
            ["{diebus}", "6------6---"],
            ["e-", "f---"],
            ["{ius}", "6------6---"],
            ["ob-", "g--"],
            ["ses-", "hg-hgf--"],
            ["sa", "ef-gef---"],
            ["est", "ed---"],
            ["", "3"]
        ]
    },
    {
        "case_name": "Test alignment: missing words",
        "text_input": "in # eius obsess- #",
        "vol_input": "1---f---df--f--f---f--efgfe---g--hg-hgf---ef--gef--ed---3",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "#", "df--" ],
            [ "", "f--" ],
            [ "", "f---" ],
            [ "e-", "f--" ],
            [ "ius", "efgfe---" ],
            [ "ob-", "g--" ],
            [ "sess-", "hg-hgf---" ],
            [ "#", "ef--" ],
            [ "", "gef--" ],
            [ "", "ed---" ],
            [ "", "3" ]
        ]
    },
    {
        "case_name": "Test alignment: missing words and music",
        "text_input": "in {#} eius obsess- {#}",
        "vol_input": "1---f---6------6---f--efgfe---g--hg-hgf---6------6---3",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "{#}", "6------6---" ],
            [ "e-", "f--" ],
            [ "ius", "efgfe---" ],
            [ "ob-", "g--" ],
            [ "sess-", "hg-hgf---" ],
            [ "{#}", "6------6---" ],
            [ "", "3" ]
        ]
    },
    {
        "case_name": "Test alignment: overflow text",
        "text_input": "in diebus eius obsessa est",
        "vol_input": "1---f---df--f-f---f---g--hg--hg---4",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "di-", "df--" ],
            [ "e-bus", "f-f---" ],
            [ "e-ius", "f-----" ],
            [ "ob-", "g--" ],
            [ "ses-", "hg--" ],
            [ "sa", "hg---" ],
            [ "est", "--" ],
            [ "", "4" ]
        ]
    },
    {
        "case_name": "Test alignment: overflow volpiano",
        "text_input": "in diebus eius obsessa est",
        "vol_input": "1---f---df--f--f--f---f--efgfe---g--hg-hgf--ef-gef--hj-hj---ed---gh---4",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "di-", "df--" ],
            [ "e-", "f--" ],
            [ "bus", "f--" ],
            [ "", "f---" ],
            [ "e-", "f--" ],
            [ "ius", "efgfe---" ],
            [ "ob-", "g--" ],
            [ "ses-", "hg-hgf--" ],
            [ "sa", "ef-gef--" ],
            [ "", "hj-hj---" ],
            [ "est", "ed---" ],
            [ "", "gh---" ],
            [ "", "4" ]
        ]
    },
    {
        "case_name": "Test alignment: text with incipit",
        "text_input": "in diebus | ~eius | obsessa | ~est",
        "vol_input": "1---f---df--f--f---3---f--efgfe---3---g--hg-hgf--ef-gef---4---ed---4",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "di-", "df--" ],
            [ "e-", "f--" ],
            [ "bus", "f---" ],
            [ "|", "3---" ],
            [ "~eius", "f--efgfe---" ],
            [ "|", "3---" ],
            [ "ob-", "g--" ],
            [ "ses-", "hg-hgf--" ],
            [ "sa", "ef-gef---" ],
            [ "|", "4---" ],
            [ "~est", "ed---" ],
            [ "", "4" ]
        ]
    },
    {
        "case_name": "Test alignment: text with ipsum",
        "text_input": "in diebus eius | ~Ipsum [obsessa est]",
        "vol_input": "1---f---df--f--f---f--efgfe---4---g--hg--hgf--ef--gef--ed---4",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "di-", "df--" ],
            [ "e-", "f--" ],
            [ "bus", "f---" ],
            [ "e-", "f--" ],
            [ "ius", "efgfe---" ],
            [ "|", "4---" ],
            [ "~Ipsum [obsessa est]", "g--hg--hgf--ef--gef--ed---" ],
            [ "", "4" ]
        ]
    },
    {
        "case_name": "Expected version for dropped words in middle of section",
        "text_input": "in diebus eius | obsessa est",
        "vol_input": "1---f---df--f--f---f--efgfe---4g--hg-hgf--ef-gef---ed---3",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "di-", "df--" ],
            [ "e-", "f--" ],
            [ "bus", "f---" ],
            [ "e-", "f--" ],
            [ "ius", "efgfe---" ],
            [ "|", "4---" ],
            [ "ob-", "g--" ],
            [ "ses-", "hg-hgf--" ],
            [ "sa", "ef-gef---" ],
            [ "est", "ed---" ],
            [ "", "3" ]
        ]
    },
    {
        "case_name": "Test alignment: dropped text word in middle of section",
        "text_input": "in eius | obsessa est",
        "vol_input": "1---f---df--f--f---f--efgfe---4g--hg-hgf--ef-gef---ed---3",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "e-", "df--" ],
            [ "ius", "f--" ],
            [ "", "f---" ],
            [ "", "f--" ],
            [ "", "efgfe---" ],
            [ "|", "4---" ],
            [ "ob-", "g--" ],
            [ "ses-", "hg-hgf--" ],
            [ "sa", "ef-gef---" ],
            [ "est", "ed---" ],
            [ "", "3" ]
        ]
    },
    {
        "case_name": "Test alignment: dropped volpiano word in middle of section",
        "text_input": "in diebus eius | obsessa est",
        "vol_input": "1---f---f--efgfe---4g--hg-hgf--ef-gef---ed---3",
        "expected_result": [
            [ "", "1---" ],
            [ "in", "f---" ],
            [ "di-", "f--" ],
            [ "e-bus", "efgfe---" ],
            [ "e-ius", "------" ],
            [ "|", "4---" ],
            [ "ob-", "g--" ],
            [ "ses-", "hg-hgf--" ],
            [ "sa", "ef-gef---" ],
            [ "est", "ed---" ],
            [ "", "3" ]
        ]
    },
    {
        "case_name": "Test alignment: improper clef, preceding characters ",
        "text_input": "in diebus eius obsessa est",
        "vol_input": "-j---1---f---df--f--f---f--efgfe---g--hg-hgf--ef-gef---ed---4",
        "expected_result": [
            ["", "1---"],
            ["in", "f---"],
            ["di-", "df--"],
            ["e-", "f--"],
            ["bus", "f---"],
            ["e-", "f--"],
            ["ius", "efgfe---"],
            ["ob-", "g--"],
            ["ses-", "hg-hgf--"],
            ["sa", "ef-gef---"],
            ["est", "ed---"],
            ["", "4"]
        ]
    },
    {
        "case_name": "Test alignment: improper clef, improper spacing",
        "text_input": "in diebus eius obsessa est",
        "vol_input": "1--f---df--f--f---f--efgfe---g--hg-hgf--ef-gef---ed---4",
        "expected_result": [
            ["", "1---"],
            ["in", "f---"],
            ["di-", "df--"],
            ["e-", "f--"],
            ["bus", "f---"],
            ["e-", "f--"],
            ["ius", "efgfe---"],
            ["ob-", "g--"],
            ["ses-", "hg-hgf--"],
            ["sa", "ef-gef---"],
            ["est", "ed---"],
            ["", "4"]
        ]
    },
    {
        "case_name": "Test alignment: line breaks",
        "text_input": "Gabriel | angelus apparuit | Zachariae dicens",
        "vol_input": "1---c--cg7--g---47---g--gf-fef--fe---e--gh--kh-jkjhgh--hg---4--7-c--ded-ef--e--eged-efed---cdedcd--dc---3",
        "expected_result": [
            ["", "1---"],
            ["Ga-","c--"],
            ["bri-","cg7--"],
            ["el","g---"],
            ["|", "47---"],
            ["an-", "g--"],
            ["ge-", "gf-fef--"],
            ["lus", "fe---"],
            ["ap-", "e--"],
            ["pa-", "gh--"],
            ["ru-", "kh-jkjhgh--"],
            ["it", "hg---"],
            ["|", "4--7-"],
            ["Za-", "c--"],
            ["cha-", "ded-ef--"],
            ["ri-", "e--"],
            ["ae", "eged-efed---"],
            ["di-", "cdedcd--"],
            ["cens", "dc---"],
            ["", "3"]
        ]
    },
    {
        "case_name": "Test alignment: page breaks",
        "text_input": "Gabriel | angelus apparuit | Zachariae dicens",
        "vol_input": "1---c--cg77--g---477---g--gf-fef--fe---e--gh--kh-jkjhgh--hg---4--77-c--ded-ef--e--eged-efed---cdedcd--dc---3",
        "expected_result": [
            ["", "1---"],
            ["Ga-","c--"],
            ["bri-","cg77--"],
            ["el","g---"],
            ["|", "477---"],
            ["an-", "g--"],
            ["ge-", "gf-fef--"],
            ["lus", "fe---"],
            ["ap-", "e--"],
            ["pa-", "gh--"],
            ["ru-", "kh-jkjhgh--"],
            ["it", "hg---"],
            ["|", "4--77-"],
            ["Za-", "c--"],
            ["cha-", "ded-ef--"],
            ["ri-", "e--"],
            ["ae", "eged-efed---"],
            ["di-", "cdedcd--"],
            ["cens", "dc---"],
            ["", "3"]
        ]
    },
    {
        "case_name": "Test alignment: column breaks",
        "text_input": "Gabriel | angelus apparuit | Zachariae dicens",
        "vol_input": "1---c--cg777--g---4777---g--gf-fef--fe---e--gh--kh-jkjhgh--hg---4--777-c--ded-ef--e--eged-efed---cdedcd--dc---3",
        "expected_result": [
            ["", "1---"],
            ["Ga-","c--"],
            ["bri-","cg777--"],
            ["el","g---"],
            ["|", "4777---"],
            ["an-", "g--"],
            ["ge-", "gf-fef--"],
            ["lus", "fe---"],
            ["ap-", "e--"],
            ["pa-", "gh--"],
            ["ru-", "kh-jkjhgh--"],
            ["it", "hg---"],
            ["|", "4--777-"],
            ["Za-", "c--"],
            ["cha-", "ded-ef--"],
            ["ri-", "e--"],
            ["ae", "eged-efed---"],
            ["di-", "cdedcd--"],
            ["cens", "dc---"],
            ["", "3"]
        ]
    }
]